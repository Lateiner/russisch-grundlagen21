<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabel-Trainer</title>
    <style>
        :root {
            /* Farbpalette (Gr√ºnt√∂ne) */
            --bg-color: #e8f5e9;
            --primary-green: #4caf50;
            --dark-green: #2e7d32;
            --light-green: #a5d6a7;
            --text-color: #333;
            --card-bg: #ffffff;
            --shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            color: var(--dark-green);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
        }

        /* Container f√ºr die gesamte App */
        .app-container {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        /* Fortschrittsanzeige */
        .progress-bar {
            font-weight: bold;
            color: var(--dark-green);
            background: white;
            padding: 5px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* Der 3D Karten-Container */
        .scene {
            width: 100%;
            height: 300px;
            perspective: 1000px; /* Wichtig f√ºr 3D Effekt */
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        /* Vorder- und R√ºckseite */
        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Versteckt die R√ºckseite beim Drehen */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            border-radius: 15px;
            background-color: var(--card-bg);
            border: 2px solid var(--primary-green);
            font-size: 2rem;
            color: var(--text-color);
            user-select: none;
        }

        .card__face--front {
            background: linear-gradient(135deg, #ffffff 0%, #f1f8e9 100%);
        }

        .card__face--back {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            transform: rotateY(180deg);
            color: var(--dark-green);
        }

        /* Dynamische Schriftgr√∂√üe f√ºr lange Texte */
        .small-text { font-size: 1.4rem; }
        .tiny-text { font-size: 1rem; }

        .hint-text {
            font-size: 0.9rem;
            color: #777;
            margin-top: 15px;
            font-style: italic;
        }

        /* Navigation und Buttons */
        .controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-grow: 1;
        }

        button {
            background-color: var(--primary-green);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-weight: bold;
        }

        button:hover {
            background-color: var(--dark-green);
        }

        button:active {
            transform: scale(0.98);
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: var(--light-green);
            color: var(--dark-green);
        }

        .btn-secondary:hover {
            background-color: var(--primary-green);
            color: white;
        }

        /* Tastaturhinweise */
        .shortcuts {
            margin-top: 20px;
            font-size: 0.8rem;
            color: #666;
            text-align: center;
        }

        .key {
            display: inline-block;
            background: #eee;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px 6px;
            font-family: monospace;
            margin: 0 2px;
        }

        /* Responsives Design */
        @media (max-width: 600px) {
            .scene { height: 250px; }
            .card__face { font-size: 1.5rem; }
            h1 { font-size: 1.5rem; }
            button { padding: 10px 15px; font-size: 0.9rem; }
            .controls { justify-content: center; }
        }
    </style>
</head>
<body>

    <div class="app-container">
        <h1>Russisch Lernen</h1>

        <div class="progress-bar" id="progress">Karte 1 / 52</div>

        <div class="scene">
            <div class="card" id="card">
                <div class="card__face card__face--front">
                    <div id="front-text">Laden...</div>
                    <div class="hint-text">(Vorderseite)</div>
                </div>
                <div class="card__face card__face--back">
                    <div id="back-text">Laden...</div>
                    <div class="hint-text">(R√ºckseite)</div>
                </div>
            </div>
        </div>

        <div class="controls">
            <!-- Navigation -->
            <div class="nav-group" style="width: 100%;">
                <button id="prevBtn" onclick="prevCard()">‚Üê Vorherige</button>
                <button id="nextBtn" onclick="nextCard()">N√§chste ‚Üí</button>
            </div>
            
            <!-- Aktionen -->
            <div class="nav-group" style="width: 100%; border-top: 1px solid #ccc; padding-top: 10px;">
                <button class="btn-secondary" onclick="resetToStart()">An den Anfang</button>
                <button class="btn-secondary" onclick="shuffleCards()">üîÄ Mischen</button>
            </div>
        </div>

        <div class="shortcuts">
            Steuerung: <span class="key">Leertaste</span> / <span class="key">Enter</span> zum Drehen, 
            <span class="key">‚Üê</span> <span class="key">‚Üí</span> zum Wechseln,
            <span class="key">Pos1</span> Start
        </div>
    </div>

    <script>
        // --- VOKABELLISTE (Rohdaten) ---
        const rawData = `
1.	–≥–¥–µÃÅ ‚Äì wo
2.	–∫—É–¥–∞ÃÅ ‚Äì wohin
3.	–æ—Ç–∫—ÉÃÅ–¥–∞ ‚Äì woher
4.	–∏–¥—Ç–∏ÃÅ / –ø–æ–π—Ç–∏ÃÅ ‚Äì gehen / losgehen (zielgerichtet, zu Fu√ü)
5.	—Ö–æ–¥–∏ÃÅ—Ç—å (nur NSV) ‚Äì gehen, umhergehen (allgemein/regelm√§√üig, zu Fu√ü)
6.	–µÃÅ—Ö–∞—Ç—å / –ø–æ–µÃÅ—Ö–∞—Ç—å ‚Äì fahren / losfahren (zielgerichtet, mit Transportmittel)
7.	–µÃÅ–∑–¥–∏—Ç—å (nur NSV) ‚Äì fahren, umherfahren (allgemein/regelm√§√üig, mit Transportmittel)
8.	–ø—Ä–∏—Ö–æ–¥–∏ÃÅ—Ç—å / –ø—Ä–∏–π—Ç–∏ÃÅ ‚Äì kommen, ankommen (zu Fu√ü)
9.	–ø—Ä–∏–µ–∑–∂–∞ÃÅ—Ç—å / –ø—Ä–∏–µÃÅ—Ö–∞—Ç—å ‚Äì kommen, ankommen (mit Transportmittel)
10.	–≤–æ–∑–≤—Ä–∞—â–∞ÃÅ—Ç—å—Å—è / –≤–µ—Ä–Ω—ÉÃÅ—Ç—å—Å—è ‚Äì zur√ºckkehren
11.	–±—ã—Ç—å (nur NSV) ‚Äì sein
12.	–∂–∏ÃÅ—Ç—å / –ø—Ä–æ–∂–∏ÃÅ—Ç—å ‚Äì leben, wohnen
13.	—Ä–∞–±–æÃÅ—Ç–∞—Ç—å / –ø–æ—Ä–∞–±–æÃÅ—Ç–∞—Ç—å ‚Äì arbeiten
14.	–æ—Ç–¥—ã—Ö–∞ÃÅ—Ç—å / –æ—Ç–¥–æ—Ö–Ω—ÉÃÅ—Ç—å ‚Äì sich erholen, ausruhen
15.	–≥—É–ª—èÃÅ—Ç—å / –ø–æ–≥—É–ª—èÃÅ—Ç—å ‚Äì spazieren gehen
16.	–∏–≥—Ä–∞ÃÅ—Ç—å / —Å—ã–≥—Ä–∞ÃÅ—Ç—å ‚Äì spielen
17.	–ª–µ–∂–∞ÃÅ—Ç—å / –ø–æ–ª–µ–∂–∞ÃÅ—Ç—å ‚Äì liegen
18.	–≤ ‚Äì in
19.	–Ω–∞ ‚Äì auf, an
20.	–∏–∑ ‚Äì aus
21.	—Å (—Å–æ) ‚Äì von
22.	–¥–æ–º ‚Äì Haus
23.	–¥–æÃÅ–º–∞ ‚Äì zu Hause
24.	–¥–æ–º–æÃÅ–π ‚Äì nach Hause
25.	—à–∫–æÃÅ–ª–∞ ‚Äì Schule
26.	—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µÃÅ—Ç ‚Äì Universit√§t
27.	–º–∞–≥–∞–∑–∏ÃÅ–Ω ‚Äì Gesch√§ft, Laden
28.	—Ç–µ–∞ÃÅ—Ç—Ä ‚Äì Theater
29.	–º—É–∑–µÃÅ–π ‚Äì Museum
30.	–±–∞–Ω–∫ ‚Äì Bank
31.	–ø–∞—Ä–∫ ‚Äì Park
32.	–ª–µ—Å ‚Äì Wald
33.	—Ü–µÃÅ–Ω—Ç—Ä ‚Äì Zentrum
34.	–∫–æÃÅ–º–Ω–∞—Ç–∞ ‚Äì Zimmer
35.	–æ–±—â–µ–∂–∏ÃÅ—Ç–∏–µ ‚Äì Wohnheim
36.	—Ä–µ—Å—Ç–æ—Ä–∞ÃÅ–Ω ‚Äì Restaurant
37.	–±–∏–±–ª–∏–æ—Ç–µÃÅ–∫–∞ ‚Äì Bibliothek
38.	–∫–∏–Ω–æÃÅ (indekl.) ‚Äì Kino
39.	—Ä–∞–±–æÃÅ—Ç–∞ ‚Äì Arbeit
40.	–∑–∞–≤–æÃÅ–¥ ‚Äì Werk, Fabrik
41.	–ø–æÃÅ—á—Ç–∞ ‚Äì Post
42.	—Ä—ãÃÅ–Ω–æ–∫ ‚Äì Markt
43.	—Å—Ç–∞–¥–∏–æÃÅ–Ω ‚Äì Stadion
44.	–∫–æ–Ω—Ü–µÃÅ—Ä—Ç ‚Äì Konzert
45.	–≤—ãÃÅ—Å—Ç–∞–≤–∫–∞ ‚Äì Ausstellung
46.	–≤–æ–∫–∑–∞ÃÅ–ª ‚Äì Bahnhof
47.	–º–æÃÅ—Ä–µ ‚Äì Meer
48.	—ÉÃÅ–ª–∏—Ü–∞ ‚Äì Stra√üe
49.	—Å–µ–π—á–∞ÃÅ—Å ‚Äì jetzt
50.	—Å–µ–≥–æÃÅ–¥–Ω—è ‚Äì heute
51.	–≤—á–µ—Ä–∞ÃÅ ‚Äì gestern
52.	–∑–∞ÃÅ–≤—Ç—Ä–∞ ‚Äì morgen
`;

        // --- STATUS & DATEN ---
        let cards = [];
        let currentIndex = 0;
        let originalOrder = []; // Um "An den Anfang" bei ungemischten Stapeln sauber zu handeln

        // --- DOM ELEMENTE ---
        const cardElement = document.getElementById('card');
        const frontText = document.getElementById('front-text');
        const backText = document.getElementById('back-text');
        const progressText = document.getElementById('progress');

        // --- INITIALISIERUNG ---
        function init() {
            parseData();
            originalOrder = [...cards]; // Kopie der Originalreihenfolge
            updateCardUI();
            
            // Event Listener f√ºr Klick auf Karte
            cardElement.addEventListener('click', flipCard);
            
            // Event Listener f√ºr Tastatur
            document.addEventListener('keydown', handleKeyPress);
        }

        // --- DATENVERARBEITUNG ---
        function parseData() {
            const lines = rawData.trim().split('\n');
            cards = lines.map(line => {
                // Entferne die Nummer am Anfang (z.B. "1. ")
                // Regex: Startet mit Ziffern, Punkt, Leerzeichen
                const cleanLine = line.replace(/^\d+\.\s+/, '').trim();
                
                // Teile bei " ‚Äì " (Gedankenstrich)
                const parts = cleanLine.split('‚Äì');
                
                if (parts.length >= 2) {
                    return {
                        front: parts[0].trim(),
                        back: parts.slice(1).join('‚Äì').trim() // Falls weitere Striche im Text sind
                    };
                }
                return null;
            }).filter(card => card !== null); // Leere Zeilen entfernen
        }

        // --- UI UPDATE ---
        function updateCardUI() {
            const currentCard = cards[currentIndex];
            
            // Karte zur√ºckdrehen, falls sie gedreht ist (ohne Animation beim Wechsel)
            cardElement.classList.remove('is-flipped');
            
            // Kurze Verz√∂gerung f√ºr den Textwechsel, damit man ihn nicht w√§hrend des R√ºckflips sieht (optional)
            // Hier machen wir es direkt, da wir flip resetten.
            
            frontText.innerText = currentCard.front;
            backText.innerText = currentCard.back;
            
            // Schriftgr√∂√üe anpassen
            adjustFontSize(frontText, currentCard.front);
            adjustFontSize(backText, currentCard.back);

            // Fortschritt
            progressText.innerText = `Karte ${currentIndex + 1} / ${cards.length}`;
        }

        function adjustFontSize(element, text) {
            element.className = ''; // Klassen resetten
            if (text.length > 30) {
                element.classList.add('tiny-text');
            } else if (text.length > 15) {
                element.classList.add('small-text');
            }
        }

        // --- FUNKTIONEN ---

        function flipCard() {
            cardElement.classList.toggle('is-flipped');
        }

        function nextCard() {
            if (currentIndex < cards.length - 1) {
                currentIndex++;
            } else {
                currentIndex = 0; // Loop zum Anfang
            }
            updateCardUI();
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = cards.length - 1; // Loop zum Ende
            }
            updateCardUI();
        }

        function resetToStart() {
            currentIndex = 0;
            updateCardUI();
            // Falls gemischt wurde, bleibt die gemischte Reihenfolge bestehen, 
            // man springt nur an den Anfang des *aktuellen* Stapels.
        }

        function shuffleCards() {
            // Fisher-Yates Shuffle
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            currentIndex = 0;
            updateCardUI();
        }

        function handleKeyPress(e) {
            // Verhindern, dass Tasten wie Leertaste die Seite scrollen
            if(["Space", "ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"].indexOf(e.code) > -1) {
                e.preventDefault();
            }

            switch(e.key) {
                case ' ':
                case 'Enter':
                    flipCard();
                    break;
                case 'ArrowRight':
                    nextCard();
                    break;
                case 'ArrowLeft':
                    prevCard();
                    break;
                case 'Home':
                    resetToStart();
                    break;
            }
        }

        // Starten
        init();

    </script>
</body>
</html>